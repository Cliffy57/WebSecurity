<?php
class User
{
  public $username;
  public $status;
}
$user = new User;
$user->username = 'tacticalgirafe';
$user->status = 'user';
$serialized_string = serialize($user);
$unserialized_data = unserialize($serialized_string);
setcookie("session", base64_encode($serialized_string));
echo "Vous etes connecté initialement en tant que : " . $unserialized_data->username;
echo "<br>";
echo "Votre status initial est : " . $unserialized_data->status;

echo "<br>";
if ((!isset($_COOKIE))) {
}
?>
<DOCTYPE html>
  <html>

  <head>
    <title>TP noté Di Paolo Hugo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="DI PAOLO" content="">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/sakura.css">
    <div align="center">
      <h1>Page d'accueil</h1>
    </div>
  </head>

  <body>
    <div align="center">
      <p>Bienvenue <?php echo $unserialized_data->username; ?> !</p>
      <p>Vous êtes <?php echo $unserialized_data->status; ?> !</p>
    </div>
  </body>
  <footer id="footer">
    <a href="insecureDeserialization.html">Retour</a>
  </footer>

  </html>